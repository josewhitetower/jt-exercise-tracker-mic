_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{"/0+H":function(e,t,r){"use strict";t.__esModule=!0,t.isInAmpMode=c,t.useAmp=function(){return c(a.default.useContext(s.AmpStateContext))};var n,a=(n=r("q1tI"))&&n.__esModule?n:{default:n},s=r("lwAK");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,r=void 0!==t&&t,n=e.hybrid,a=void 0!==n&&n,s=e.hasQuery,c=void 0!==s&&s;return r||a&&c}},"8Kt/":function(e,t,r){"use strict";r("lSNA");t.__esModule=!0,t.defaultHead=l,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r("q1tI")),s=(n=r("Xuae"))&&n.__esModule?n:{default:n},c=r("lwAK"),o=r("FYa8"),i=r("/0+H");function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var m=["name","httpEquiv","charSet","itemProp"];function f(e,t){return e.reduce((function(e,t){var r=a.default.Children.toArray(t.props.children);return e.concat(r)}),[]).reduce(d,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,r=new Set,n={};return function(a){var s=!0;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){var c=a.key.slice(a.key.indexOf("$")+1);e.has(c)?s=!1:e.add(c)}switch(a.type){case"title":case"base":t.has(a.type)?s=!1:t.add(a.type);break;case"meta":for(var o=0,i=m.length;o<i;o++){var u=m[o];if(a.props.hasOwnProperty(u))if("charSet"===u)r.has(u)?s=!1:r.add(u);else{var l=a.props[u],d=n[u]||new Set;d.has(l)?s=!1:(d.add(l),n[u]=d)}}}return s}}()).reverse().map((function(e,t){var r=e.key||t;return a.default.cloneElement(e,{key:r})}))}function b(e){var t=e.children,r=(0,a.useContext)(c.AmpStateContext),n=(0,a.useContext)(o.HeadManagerContext);return a.default.createElement(s.default,{reduceComponentsToState:f,headManager:n,inAmpMode:(0,i.isInAmpMode)(r)},t)}b.rewind=function(){};var p=b;t.default=p},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},Ijbi:function(e,t,r){var n=r("WkPL");e.exports=function(e){if(Array.isArray(e))return n(e)}},RIqP:function(e,t,r){var n=r("Ijbi"),a=r("EbDI"),s=r("ZhPi"),c=r("Bnag");e.exports=function(e){return n(e)||a(e)||s(e)||c()}},RNiq:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r("nKUr"),a=r("8Kt/"),s=r.n(a),c=r("q1tI"),o=r("o0o1"),i=r.n(o);function u(e,t,r,n,a,s,c){try{var o=e[s](c),i=o.value}catch(u){return void r(u)}o.done?t(i):Promise.resolve(i).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function c(e){u(s,n,a,c,o,"next",e)}function o(e){u(s,n,a,c,o,"throw",e)}c(void 0)}))}}function d(){var e=Object(c.useState)(""),t=e[0],r=e[1],a=Object(c.useState)(""),s=a[0],o=a[1],u=Object(c.useState)(""),d=u[0],m=u[1],f=Object(c.useState)(!1),b=f[0],p=f[1],x=function(){var e=l(i.a.mark((function e(n){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),n.preventDefault(),!t){e.next=14;break}return"https://jt-exercise-tracker-mic.herokuapp.com/api/exercise/new-user",e.next=7,fetch("https://jt-exercise-tracker-mic.herokuapp.com/api/exercise/new-user",{method:"POST",body:JSON.stringify({username:t})});case 7:if(409!==(a=e.sent).status){e.next=10;break}throw new Error("Username is already taken");case 10:return e.next=12,a.json();case 12:s=e.sent,m("User added successfully, ID: ".concat(s._id));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),o(e.t0.message);case 19:return e.prev=19,r(""),p(!1),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[0,16,19,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("form",{className:"mt-4 p-2 md:flex-grow md:justify-between md:self-start flex flex-col",onSubmit:x,children:[Object(n.jsx)("h3",{className:"font-semibold text-white",children:"Create a new user"}),Object(n.jsxs)("div",{className:"flex mt-2 items-center",children:[Object(n.jsx)("label",{htmlFor:"username",className:"text-gray-300",children:"Username*:"}),Object(n.jsx)("input",{type:"text",required:!0,id:"username",name:"username",className:"p-2 ml-2 w-full bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){s&&o(""),d&&m(""),r(e.target.value)},value:t})]}),Object(n.jsx)("button",{type:"submit",className:"rounded-2xl py-2 px-4 mt-6 bg-green-500 text-white font-semibold self-end hover:bg-green-400",children:b?"Processing...":"Submit"}),s&&Object(n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s}),d&&Object(n.jsx)("p",{className:"text-green-500 text-xs mt-1",children:d})]})}function m(){var e=Object(c.useState)(""),t=e[0],r=e[1],a=Object(c.useState)(""),s=a[0],o=a[1],u=Object(c.useState)(""),d=u[0],m=u[1],f=Object(c.useState)(""),b=f[0],p=f[1],x=Object(c.useState)(""),h=x[0],j=x[1],g=Object(c.useState)(""),v=g[0],y=g[1],O=Object(c.useState)(!1),w=O[0],N=O[1],k=function(){var e=l(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N(!0),n.preventDefault(),!((a={user_id:Number(t),description:s,duration:Number(d),date:b}).user_id&&a.description&&a.duration)){e.next=9;break}return"https://jt-exercise-tracker-mic.herokuapp.com/api/exercise/add",e.next=8,fetch("https://jt-exercise-tracker-mic.herokuapp.com/api/exercise/add",{method:"POST",body:JSON.stringify(a)});case 8:y("Exercise added successfully");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),j("Internal Error");case 14:return e.prev=14,r(""),o(""),m(""),p(""),N(!1),e.finish(14);case 21:case"end":return e.stop()}}),e,null,[[0,11,14,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("form",{className:"mt-4 p-2 md:flex-grow md:ml-4 flex flex-col",onSubmit:k,children:[Object(n.jsx)("h3",{className:"font-semibold text-white",children:"Add exercises"}),Object(n.jsxs)("div",{className:"flex mt-2 items-center",children:[Object(n.jsx)("label",{htmlFor:"userId",className:"flex-shrink-0 text-gray-300",children:"User ID*:"}),Object(n.jsx)("input",{type:"text",required:!0,id:"userId",name:"userId",className:"p-2 ml-2 w-full bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){h&&j(""),v&&y(""),r(e.target.value)},value:t})]}),Object(n.jsxs)("div",{className:"flex mt-2 items-center",children:[Object(n.jsx)("label",{htmlFor:"description",className:"flex-shrink-0 text-gray-300",children:"Description*:"}),Object(n.jsx)("input",{type:"text",required:!0,id:"description",name:"description",className:"p-2 ml-2 w-full bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){h&&j(""),v&&y(""),o(e.target.value)},value:s})]}),Object(n.jsxs)("div",{className:"flex mt-2 items-center",children:[Object(n.jsx)("label",{htmlFor:"duration",className:"flex-shrink-0 text-gray-300",children:"Duration*:"}),Object(n.jsx)("input",{type:"number",required:!0,id:"duration",name:"duration",className:"p-2 ml-2 w-full bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){h&&j(""),v&&y(""),m(e.target.value)},value:d,placeholder:"mins"})]}),Object(n.jsxs)("div",{className:"flex mt-2 items-center",children:[Object(n.jsx)("label",{htmlFor:"date",className:"flex-shrink-0 text-gray-300",children:"Date:"}),Object(n.jsx)("input",{type:"text",id:"date",name:"date",className:"p-2 ml-2 w-full bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){h&&j(""),v&&y(""),p(e.target.value)},value:b,placeholder:"yyyy-mm-dd"})]}),Object(n.jsx)("button",{type:"submit",className:"rounded-2xl py-2 px-4 mt-6 bg-green-500 text-white font-semibold self-end hover:bg-green-400",children:w?"Processing...":"Submit"}),h&&Object(n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h}),v&&Object(n.jsx)("p",{className:"text-green-500 text-xs mt-1",children:v})]})}function f(e){var t=e.setUserLog,r=Object(c.useState)(""),a=r[0],s=r[1],o=Object(c.useState)(""),u=o[0],d=o[1],m=Object(c.useState)(""),f=m[0],b=m[1],p=Object(c.useState)(""),x=p[0],h=p[1],j=Object(c.useState)(""),g=j[0],v=j[1],y=Object(c.useState)(!1),O=y[0],w=y[1],N=function(){var e=l(i.a.mark((function e(r){var n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),r.preventDefault(),"https://jt-exercise-tracker-mic.herokuapp.com/api/exercise/log?",n=new URLSearchParams,a&&n.append("userId",a),u&&n.append("from",u),f&&n.append("to",f),x&&n.append("limit",x),e.next=11,fetch("https://jt-exercise-tracker-mic.herokuapp.com/api/exercise/log?"+n.toString(),{mode:"cors"});case 11:if(404!==(s=e.sent).status){e.next=15;break}throw t(null),new Error("User not found");case 15:return e.next=17,s.json();case 17:c=e.sent,t(c),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),v(e.t0.message);case 24:return e.prev=24,w(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("form",{className:"mt-4 p-2 flex flex-col",onSubmit:N,children:[Object(n.jsx)("h3",{className:"font-semibold text-white",children:"Log user's exercises"}),Object(n.jsxs)("div",{className:"flex flex-wrap",children:[Object(n.jsxs)("div",{className:"flex mt-2 items-center flex-grow mr-2",children:[Object(n.jsx)("label",{htmlFor:"userId",className:"flex-shrink-0 text-gray-300",children:"User ID*:"}),Object(n.jsx)("input",{type:"text",required:!0,id:"userId",name:"userId",className:"p-2 ml-2 bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){g&&v(""),s(e.target.value)},value:a})]}),Object(n.jsxs)("div",{className:"flex mt-2 items-center flex-grow mr-2",children:[Object(n.jsx)("label",{htmlFor:"from",className:"flex-shrink-0 text-gray-300",children:"From:"}),Object(n.jsx)("input",{type:"text",id:"from",name:"from",className:"p-2 ml-2 bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){g&&v(""),d(e.target.value)},value:u,placeholder:"yyyy-mm-dd"})]}),Object(n.jsxs)("div",{className:"flex mt-2 items-center flex-grow mr-2",children:[Object(n.jsx)("label",{htmlFor:"to",className:"flex-shrink-0 text-gray-300",children:"To:"}),Object(n.jsx)("input",{type:"text",id:"to",name:"to",className:"p-2 ml-2 bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){g&&v(""),b(e.target.value)},value:f,placeholder:"yyyy-mm-dd"})]}),Object(n.jsxs)("div",{className:"flex mt-2 items-center flex-grow mr-2",children:[Object(n.jsx)("label",{htmlFor:"limit",className:"flex-shrink-0 text-gray-300",children:"Limit:"}),Object(n.jsx)("input",{type:"number",id:"limit",name:"date",className:"p-2 ml-2 bg-indigo-900 border-b border-green-500 text-gray-300 cursor-pointer focus:cursor-text focus:border-green-200 focus:outline-none",onChange:function(e){g&&v(""),h(e.target.value)},value:x})]})]}),Object(n.jsx)("button",{type:"submit",className:"rounded-2xl py-2 px-4 mt-6 bg-green-500 text-white font-semibold self-end hover:bg-green-400",children:O?"Processing...":"Submit"}),g&&Object(n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:g})]})}function b(e){var t=e.user;return Object(n.jsxs)("table",{className:"w-full mt-4",children:[Object(n.jsxs)("caption",{className:"mb-2 font-semibold text-white mb-6",children:[t.username,"'s Logs"]}),Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"bg-green-500 border text-white border-gray-300",children:[Object(n.jsx)("th",{className:"p-1",children:"Description"}),Object(n.jsx)("th",{className:"p-1",children:"Duration"}),Object(n.jsx)("th",{className:"p-1",children:"Date"})]})}),Object(n.jsx)("tbody",{children:t.log&&t.log.map((function(e){return Object(n.jsxs)("tr",{className:"border-gray-300 border text-white",children:[Object(n.jsx)("td",{className:"border-gray-300 border text-right p-1",children:e.description}),Object(n.jsx)("td",{className:"border-gray-300 border text-right p-1",children:e.duration}),Object(n.jsx)("td",{className:"border-gray-300 border text-right p-1",children:new Date(e.date).toDateString()})]},e.date)}))})]})}function p(){var e=Object(c.useState)(null),t=e[0],r=e[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(s.a,{children:[Object(n.jsx)("title",{children:"Exercise Tracker"}),Object(n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),Object(n.jsxs)("main",{className:"container mx-auto mt-8 text-gray-800 bg-indigo-900 p-6 rounded-2xl",children:[Object(n.jsx)("h1",{className:"text-xl font-bold text-white mb-6",children:"Exercise Tracker"}),Object(n.jsxs)("section",{className:"md:flex border-indigo-800 p-2 rounded-sm mt-2 border-t",children:[Object(n.jsx)(d,{}),Object(n.jsx)(m,{})]}),Object(n.jsxs)("section",{className:"border-indigo-800 p-2 rounded-sm mt-2 border-t",children:[Object(n.jsx)(f,{setUserLog:r}),t&&Object(n.jsx)(b,{user:t})]})]}),Object(n.jsxs)("footer",{className:"text-center py-4 text-base",children:["by"," ",Object(n.jsx)("a",{href:"http://github.com/josewhitetower",className:"text-gray-400 hover:text-gray-800",children:"josewhitetower"})]})]})}},Xuae:function(e,t,r){"use strict";var n=r("RIqP"),a=r("lwsE"),s=r("W8MJ"),c=(r("PJYZ"),r("7W2i")),o=r("a1gu"),i=r("Nsbk");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=i(e);if(t){var a=i(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}t.__esModule=!0,t.default=void 0;var l=r("q1tI"),d=function(e){c(r,e);var t=u(r);function r(e){var s;return a(this,r),(s=t.call(this,e))._hasHeadManager=void 0,s.emitChange=function(){s._hasHeadManager&&s.props.headManager.updateHead(s.props.reduceComponentsToState(n(s.props.headManager.mountedInstances),s.props))},s._hasHeadManager=s.props.headManager&&s.props.headManager.mountedInstances,s}return s(r,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),r}(l.Component);t.default=d},lSNA:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},lwAK:function(e,t,r){"use strict";var n;t.__esModule=!0,t.AmpStateContext=void 0;var a=((n=r("q1tI"))&&n.__esModule?n:{default:n}).default.createContext({});t.AmpStateContext=a},vlRD:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r("RNiq")}])}},[["vlRD",0,2,1]]]);